<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>THE LIGHTKEEPER</title>

<style>
body::after {
  content: "";
  position: fixed;
  top: -100%;
  left: -100%;
  width: 300%;
  height: 300%;
  pointer-events: none;
  z-index: 9999;
  background-image: url("images/noise.png");
  opacity: 0.1;
  animation: grainMove 1s steps(4) infinite;
}

@keyframes grainMove {
  0% { transform: translate(0,0); }
  25% { transform: translate(-5%,3%); }
  50% { transform: translate(4%,-6%); }
  100% { transform: translate(0,0); }
}

@font-face {
  font-family: "Gallery";
  src: url("fonts/gallery.woff2") format("woff2");
}

* { box-sizing: border-box; -webkit-user-select: none; user-select: none; }

html, body { height: 100%; margin: 0; background-color: #0f0d0c; overflow: hidden; }

body { display: flex; flex-direction: column; font-family: "Gallery", serif; color: #c9ad8d; text-align: center; padding: 0 10px; }

h1 { margin: 2vh 0; font-size: clamp(1.2rem, 8vw, 4rem); letter-spacing: 0.3em; font-weight: normal; cursor: pointer; }

.video-container { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 0; gap: 20px; }

.video-frame { position: relative; max-width: 100%; max-height: calc(100% - 120px); border-radius: 12px; overflow: hidden; background: #000; }

.video-frame::after { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; box-shadow: inset 0 0 80px rgba(0,0,0,0.8); border-radius: 12px; }

video { max-width: 100%; max-height: 100%; display: block; object-fit: contain; }

.controls { display: flex; align-items: center; justify-content: center; gap: clamp(10px,4vw,25px); background: #1a1614; padding: 10px 20px; border: 1px solid #2d2824; border-radius: 6px; width: fit-content; max-width: 95vw; }

button#playPause, .journal-btn { width: 36px; height: 36px; background: #c9ad8d; border: 1px solid #a7896a; border-radius: 4px; cursor: pointer; transition: opacity 0.2s; flex-shrink: 0; }

#progressBar { width: clamp(100px,40vw,300px); height: 12px; background: #2d2824; cursor: pointer; touch-action: none; display: flex; align-items: center; }

#progress { height: 4px; width: 0%; background: #c9ad8d; pointer-events: none; }

#volumeBar { width: 16px; height: 40px; background: #2d2824; display: flex; flex-direction: column-reverse; cursor: pointer; touch-action: none; padding: 2px; }

#volumeLevel { width: 100%; height: 80%; background: #8a6f4d; pointer-events: none; }

h3 { margin: 0; padding: 20px 0; letter-spacing: 0.5em; font-size: clamp(0.6rem,3vw,0.8rem); opacity: 0.6; flex-shrink: 0; }

#journal { display: none; opacity: 0; max-width: 800px; margin: 20px auto; padding: 20px; text-align: left; line-height: 1.5em; transition: opacity 1s ease-in-out; position: relative; }

#journal.show { display: block; opacity: 1; }

#journal h2 { margin-top: 0; font-size: 1.5rem; letter-spacing: 0.2em; }

#journal p { margin: 0.5em 0; }

.journal-controls { display: flex; justify-content: center; gap: 10px; margin-top: 15px; }

</style>
</head>

<body>

<h1 id="title">THE LIGHTKEEPER</h1>

<div class="video-container" id="videoContainer">
  <div class="video-frame">
    <video id="myVideo" src="videos/teaser.mp4" loop playsinline></video>
  </div>

  <div class="controls">
    <button id="playPause"></button>
    <div id="progressBar"><div id="progress"></div></div>
    <div id="volumeBar"><div id="volumeLevel"></div></div>
  </div>
</div>

<h3>FIRST WAVES</h3>

<div id="journal">
  <div class="entry" data-index="0">
    <h2>Journal – Entry I</h2>
    <p><strong>January 3, 1953</strong></p>
    <p>
    i arrived at the keep today. <br>
    the wind was exceptionally sharp, but the light held steady, as it always does...<br>
    i inspected the keep, cleaned the lantern, checked the logs. <br>
    nothing out of order. <br>
    nights are quiet, all the gulls settle.<br>
    i am alone with the sea and the sound of waves against the rocks.<br>
   first night here, all is well.
    </p>
  </div>
  <div class="entry" data-index="1" style="display:none">
    <h2>Journal – Entry II</h2>
    <p><strong>January 7, 1953</strong></p>
    <p>
    the fog rolled in thick this morning. <br>
    visibility low. the light will be of use. <br>
    spent hours on maintenance. i tightened the railings and polished the lens. <br>
    noticed a lone gull circling near the cliffs, more persistent than usual. <br>
    they are noisy today, but harmless. <br>
    the lamp shines through the haze. <br>
    all as it should be.
    </p>
  </div>
  
  <div class="entry" data-index="2" style="display:none">
    <h2>Journal – Entry III</h2>
    <p><strong>January 11, 1953</strong></p>
    <p>
    inspection complete, again. <br>
    supplies in order. <br>
    oil will last another week or so. <br>
    the horizon is hauntingly empty. <br>
    sometimes i hear distant horns, but they fade fast. <br>
    nights are cold, but reliant. <br>
    work keeps the mind occupied. <br>
    </p>
  </div>

  <div class="entry" data-index="3" style="display:none">
    <h2>Journal – Entry IV</h2>
    <p><strong>January 15, 1953</strong></p>
    <p>
    morning clouds heavy with rain. <br>
    i checked the keep top to bottom. <br>
    shutters hold, lantern perfectly doing its job.<br>
    cleaned windows despite the chill after the rain. <br>
    water on the roof is comforting, in a way.<br>
    still alone. no unusual sounds.
    </p>
  </div>
  
  <div class="entry" data-index="4" style="display:none">
    <h2>Journal – Entry V</h2>
    <p><strong>January 19, 1953</strong></p>
    <p>
    noticed small changes in the light this morning.<br>
    the lens needed minor adjustment. <br>
    birds are still restless.<br>
    spent the day walking the perimeter, counting each stone, each board. <br>
    repetition keeps the hours sharp.<br>
    wind whines in the tower, but all is accounted for.
    </p>
  </div>
  
   <div class="entry" data-index="5" style="display:none">
    <h2>Journal – Entry VI</h2>
    <p><strong>January 26, 1953</strong></p>
    <p>
    evening is calm. <br>
    the lamp burns bright.<br>
    no ships in sight, no signals.<br>
    wind shifted slightly from the east.<br>
    the sea is... restless, but predictable.<br>
    all in order.
    </p>
  </div>

  <div class="entry" data-index="6" style="display:none">
    <h2>Journal – Entry VII</h2>
    <p><strong>February 2, 1953</strong></p>
    <p>
    checked lantern, polished brass fittings. <br>
    horizon remains empty. it's starting to take a toll on me. <br>
    gulls are exceptionally quiet tonight. <br>
    i hear nothing but the waves and the creak of wood. <br>
    keep secure, oil sufficient. <br>
    all as expected.
    </p>
  </div>
  
  <!--

    <div class="entry" data-index="7" style="display:none">
      <h2>Journal – Entry VIII</h2>
      <p><strong>February 5, 1953</strong></p>
      <p>
      i saw an old shipwreck on the horizon today.<br>
      i can’t stop thinking about it.<br>
      the lens caught its reflection faintly. <br>
      oil will last a lot more than i thought.<br>
      still, the sight lingers.<br>
      it makes me uneasy.
      </p>
    </div>

  <div class="entry" data-index="8" style="display:none">
      <h2>Journal – Entry IX</h2>
      <p><strong>February 9, 1953</strong></p>
      <p>
      memories surfaced this morning.<br>
      the shore, someone waiting.<br>
      i can almost hear them calling, but wind carries it away.<br>
      lamp burns longer than necessary.<br>
      feels important.
      </p>
    </div>

  <div class="entry" data-index="9" style="display:none">
      <h2>Journal – Entry X</h2>
      <p><strong>February 12, 1953</strong></p>
      <p>
      fog heavier, light cutting through thick gray. <br>
      i adjusted the lens, polished the brass again. <br>
      horizon feels endless.<br>
      i wonder if a ship ever truly sees this light.
      </p>
  </div>

  <div class="entry" data-index="10" style="display:none">
      <h2>Journal – Entry XI</h2>
      <p><strong>February 20, 1953</strong></p>
      <p>
      strange noises in the tower tonight. <br>
      the wooden stairs creaks differently. <br>
      though, the lamp keeps burning. <br>
      i count waves, then seconds between each pulse of light.<br>
      order matters.
      </p>
  </div>

  <div class="entry" data-index="11" style="display:none">
      <h2>Journal – Entry XII</h2>
      <p><strong>February 28, 1953</strong></p>
      <p>
      the horizon is flickering.<br>
      i can't tell if it's reflection or just my mind making it up.<br>
      cannot tell. <br>
      signal anyway. <br>
      oil is running low but i'll keep going.<br>
      repetition keeps me from thinking too far.
      </p>
  </div>

   <div class="entry" data-index="12" style="display:none">
      <h2>Journal – Entry XIII</h2>
      <p><strong>March 5, 1953</strong></p>
      <p>
      solitude is getting to me. <br>
      spoke to the keep today. <br>
      named the lantern, the stairwell, even the individual windows.<br>
      they respond in my head. <br>
      all must be in place. <br>
      nothing may fail.
      </p>
  </div>

  <div class="entry" data-index="13" style="display:none">
      <h2>Journal – Entry XIV</h2>
      <p><strong>March 6, 1953</strong></p>
      <p>
      i imagined ships today. <br>
      silhouettes on the horizon.<br>
      i raised signals, but they do not answer.<br>
      does the lamp glow in vain?<br>
      gulls watch silently.<br>
      i'm getting used to their noise.
      </p>
  </div>

  <div class="entry" data-index="14" style="display:none">
      <h2>Journal – Entry XV</h2>
      <p><strong>March 12, 1953</strong></p>
      <p>
      my memories growl.<br>
      the warmth of the shore, and the feeling of being wanted. <br>
      i write letters on scraps, then throw them into the wind. <br>
      they drift nowhere.
      </p>
  </div>

  <div class="entry" data-index="15" style="display:none">
      <h2>Journal – Entry XVI</h2>
      <p><strong>March 20, 1953</strong></p>
      <p>
      the light is everything. <br>
      without it, i cannot hold myself together.<br>
      the lens was polished, oil replenished, logs written meticulously.<br>
      order is life.
    </p>
  </div>

  <div class="entry" data-index="16" style="display:none">
      <h2>Journal – Entry XVII</h2>
      <p><strong>March 28, 1953</strong></p>
      <p>
      talked again to the tower.<br>
      walls echo back my words. <br>
      shadows today move unusually.<br>
      perhaps wind, perhaps something else.<br>
      i signal to nothing. <br>
      still, it matters.
    </p>
  </div>

  <div class="entry" data-index="17" style="display:none">
      <h2>Journal – Entry XVIII</h2>
      <p><strong>April 1, 1953</strong></p>
      <p>
      phantom lights on horizon. <br>
      i insist with the signal.<br>
      nights feel endless here.<br>
      yet i barely sleep.<br>
      the lamp burns brighter than usual.<br>
      i should conserve oil.
    </p>
  </div>

  <div class="entry" data-index="18" style="display:none">
      <h2>Journal – Entry XIX</h2>
      <p><strong>April 2, 1953</strong></p>
      <p>
      hours spent awake, watching.<br>
      no one responds.<br>
      the lamp's heat warms my hands.<br>
      i cannot stop.
    </p>
  </div>
  
  <div class="entry" data-index="19" style="display:none">
      <h2>Journal – Entry XX</h2>
      <p><strong>April 3, 1953</strong></p>
      <p>
      cleaning obsessively.<br>
      polishing brass, checking lens again and again. <br>
      the lamp burns through oil faster than intended. <br>
      each and every flicker feels like life or death.
    </p>
  </div>

   <div class="entry" data-index="20" style="display:none">
      <h2>Journal – Entry XXI</h2>
      <p><strong>April 5, 1953</strong></p>
      <p>
      heard music faintly outside my window.<br>
      i imagined someone waiting. <br>
      although the distance is impossible.<br>
      still, the heart reacts.
    </p>
  </div>

  <div class="entry" data-index="21" style="display:none">
      <h2>Journal – Entry XXII</h2>
      <p><strong>April 6, 1953</strong></p>
      <p>
      all-consuming.<br>
      the lamp burns constantly. <br>
      the horizon empty, gulls silent.<br>
      a pile of unsent letters by my side.<br>
      repetition is my only anchor.
    </p>
  </div>

   <div class="entry" data-index="22" style="display:none">
      <h2>Journal – Entry XXIII</h2>
      <p><strong>April 18, 1953</strong></p>
      <p>
      no ships. <br>
      horizon is empty. <br>
      my purpose dwindles. <br>
      my light feels futile.<br>
      my mind races in circles.
    </p>
  </div>

  <div class="entry" data-index="23" style="display:none">
      <h2>Journal – Entry XXIV</h2>
      <p><strong>May 2, 1953</strong></p>
      <p>
      my memories sting more than ever. <br>
      love, warmth, shore... all unreachable.<br>
      why?<br>
      my obsession thickens, suffocates. <br>
      the lamp burns, but my body is aching.
    </p>
  </div>

  <div class="entry" data-index="24" style="display:none">
      <h2>Journal – Entry XXV</h2>
      <p><strong>May 15, 1953</strong></p>
      <p>
      shout at the window. <br>
      i know someone waits.<br>
      i cannot reach. <br>
      one can only watch, signal, hope.<br>
      hopeless hope.
    </p>
  </div>

  <div class="entry" data-index="25" style="display:none">
      <h2>Journal – Entry XXVI</h2>
      <p><strong>May 28, 1953</strong></p>
      <p>
      the lamp burns excessively these days. <br>
      my hands shake.<br>
      my eyes bleed fatigue. <br>
      the horizon still, after all this time, remains empty.<br>
      no one comes.
    </p>
  </div>

  <div class="entry" data-index="26" style="display:none">
      <h2>Journal – Entry XXVII</h2>
      <p><strong>June 2, 1953</strong></p>
      <p>
      fever light.<br>
      the lamp almost... reckless.<br>
      polishing, cleaning, signaling.<br>
      almost nothing else exists.<br>
      the mind frays at edges.
    </p>
  </div>

  <div class="entry" data-index="27" style="display:none">
      <h2>Journal – Entry XXVIII</h2>
      <p><strong>June 3, 1953</strong></p>
      <p>
      signals shouted into nothing.<br> 
      horizon unyielding.<br>
      my body is weak.
    </p>
  </div>

  <div class="entry" data-index="29" style="display:none">
  <h2>Journal</h2>
  <p><strong>June ?, 1953</strong></p>
  <p>
  i stopped counting the days.<br>
  the oil ran out sometime last night.<br>
  i did not relight it.<br>
  there are no ships.<br>
  there haven’t been for a long time.<br>
  i see that now.
  </p>
</div>

-->
  
  <div class="journal-controls">
    <button class="journal-btn" id="prevEntry">&#8592;</button>
    <button class="journal-btn" id="nextEntry">&#8594;</button>
  </div>
</div>

<script>
const video = document.getElementById("myVideo")
const playBtn = document.getElementById("playPause")
const progress = document.getElementById("progress")
const progressBar = document.getElementById("progressBar")
const volumeBar = document.getElementById("volumeBar")
const volumeLevel = document.getElementById("volumeLevel")
const title = document.getElementById("title")
const journal = document.getElementById("journal")
const videoContainer = document.getElementById("videoContainer")

let showingJournal = false
let isDraggingProgress = false
let isDraggingVolume = false
let wasPlaying = false
let currentEntry = 0
const entries = document.querySelectorAll("#journal .entry")
const prevBtn = document.getElementById("prevEntry")
const nextBtn = document.getElementById("nextEntry")

playBtn.addEventListener("click", () => {
  if (video.paused) { video.play(); playBtn.style.opacity = "0.5" }
  else { video.pause(); playBtn.style.opacity = "1" }
})

video.addEventListener("timeupdate", () => {
  if (!isDraggingProgress && video.duration) {
    const percent = (video.currentTime / video.duration) * 100
    progress.style.width = percent + "%"
  }
})

function scrubProgress(e) {
  const rect = progressBar.getBoundingClientRect()
  const x = e.clientX - rect.left
  let percent = x / rect.width
  percent = Math.max(0, Math.min(1, percent))
  progress.style.width = percent*100 + "%"
  video.currentTime = percent*video.duration
}

function scrubVolume(e) {
  const rect = volumeBar.getBoundingClientRect()
  let y = e.clientY - rect.top
  y = Math.max(0, Math.min(rect.height, y))
  const percent = 1 - y/rect.height
  video.volume = percent
  volumeLevel.style.height = percent*100 + "%"
}

progressBar.addEventListener("pointerdown", e => { isDraggingProgress=true; scrubProgress(e); progressBar.setPointerCapture(e.pointerId) })
volumeBar.addEventListener("pointerdown", e => { isDraggingVolume=true; scrubVolume(e); volumeBar.setPointerCapture(e.pointerId) })

window.addEventListener("pointermove", e => { if (isDraggingProgress) scrubProgress(e); if (isDraggingVolume) scrubVolume(e) })
window.addEventListener("pointerup", () => { isDraggingProgress=false; isDraggingVolume=false })

function showEntry(index) {
  entries.forEach((e,i)=>e.style.display=(i===index?"block":"none"))
}

prevBtn.addEventListener("click", () => {
  currentEntry = (currentEntry - 1 + entries.length) % entries.length
  showEntry(currentEntry)
})

nextBtn.addEventListener("click", () => {
  currentEntry = (currentEntry + 1) % entries.length
  showEntry(currentEntry)
})

title.addEventListener("click", () => {
  if (!showingJournal) {
    wasPlaying = !video.paused
    video.pause()
    videoContainer.style.display = "none"
    journal.classList.add("show")
    showingJournal = true
  } else {
    journal.classList.remove("show")
    videoContainer.style.display = "flex"
    if (wasPlaying) video.play()
    showingJournal = false
  }
})
</script>

</body>
</html>
